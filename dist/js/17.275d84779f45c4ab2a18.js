webpackJsonp([17],{"2jfN":function(n,e,t){"use strict";function i(n){t("WV7z")}function o(n){t("5rZU")}Object.defineProperty(e,"__esModule",{value:!0});var a=t("HqzV"),r=t("rdLu"),s=t.n(r),l=t("GQaK"),d=(Boolean,Array,String,Boolean,s.a.debounce(function(){this.$emit("nextPage")},50,!0),s.a.debounce(function(){this.$emit("reList")},50,!0),{data:function(){return{majorScroll:null}},props:{loading:Boolean,list:Array,type:String,end:Boolean},mounted:function(){this.init()},watch:{$route:function(){this.init()}},methods:{init:function(){var n=this;this.$nextTick(function(){n.majorScroll=new l.a(n.$refs.majorWrapper,{click:!0,pullDownRefresh:{threshold:50,stop:40},pullUpLoad:{threshold:0,moreTxt:"加载中",noMoreTxt:"没有更多数据了"}}),n.majorScroll.on("pullingUp",function(e){console.log("pullingUp"),n.end||n.loading||(n.nextPage(),n.$nextTick(function(){n.majorScroll.finishPullUp()}))}),n.majorScroll.on("pullingDown",function(){n.reList(),n.$nextTick(function(){n.majorScroll.finishPullDown()})})})},nextPage:s.a.debounce(function(){this.$emit("nextPage")},50,!0),reList:s.a.debounce(function(){this.$emit("reList")},50,!0),gotoPage:function(n){this.$router.push({path:"/majorInfo/"+n.majorcode})}}}),A=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{ref:"majorWrapper",staticClass:"major-wrapper",style:{height:"calc(100% - 56px)"}},[t("div",{staticClass:"major-list"},[n.loading?t("div",{staticClass:"list-loading"},[t("div",{staticClass:"loader"})]):n._e(),n._v(" "),n.loading||0!==n.list.length?n._e():t("div",{staticClass:"list-no-data"},[n._v("\n      暂无结果\n    ")]),n._v(" "),n._l(n.list,function(e,i){return n.loading||0===n.list.length?n._e():t("div",{staticClass:"major-item",on:{click:function(t){n.gotoPage(e)}}},[t("div",{staticClass:"major-item__name"},[n._v(n._s(e.majorname))]),n._v(" "),t("div",{staticClass:"major-item__code"},[n._v(n._s(e.majorcode))]),n._v(" "),t("i",{staticClass:"iconfont iconleft-arrow"})])})],2)])},c=[],f={render:A,staticRenderFns:c},m=f,p=t("VU/8"),u=i,C=p(d,m,!1,u,"data-v-d9ed30e4",null),g=C.exports,h=t("gyMJ"),B=(a.a,{components:{Search:a.a,subList:g},data:function(){return{loading:!1,key:"",placeholder:"搜索",list:[],query:{size:0,name:""},end:!1}},computed:{toUrl:function(){return this.$store.state.user.returnUrl},majorCode:function(){return this.$route.params.majorname||""}},mounted:function(){var n=this;this.$nextTick(function(){n.$refs.search.isFixed=!0,n.$refs.search.isFocus=!0,n.$refs.search.isCancel=!1,n.$refs.search.setFocus(),n.$refs.list.init()})},methods:{returnBack:function(){this.list=[],this.key="",this.$router.go(-1)},nextPage:function(){this.page++,this.getList()},reList:function(){var n=this;this.page=0,this.list=[],this.end=!1,this.loading=!0,this.getList(),this.$nextTick(function(){n.$refs.list.init()})},searchKey:function(n){this.page=0,this.query={name:n,page:this.page},this.list=[],this.end=!1,void 0!==n&&""!==n&&(this.loading=!0,this.getList())},getList:function(){var n=this;this.query.page=this.page,Object(h.Z)(this.query).then(function(e){n.loading=!1,0===e.data.code?(n.list=n.list.concat(e.data.data),e.data.data.length<20&&(n.end=!0),n.$nextTick(function(){n.$refs.list.majorScroll&&n.$refs.list.majorScroll.refresh()})):n.end=!0})},getCourses:function(n){this.$emit("getCourses",n)}}}),x=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticStyle:{height:"100%",width:"100%",isplay:"flex","flex-direction":"column"}},[t("div",{staticClass:"major-box"},[t("div",{staticClass:"major__search"},[t("div",{staticClass:"major-return return-box"},[t("div",{staticClass:"return__icon",on:{click:n.returnBack}},[t("i",{staticClass:"iconfont iconleft-arrow"})]),n._v(" "),t("search",{ref:"search",attrs:{placeholder:n.placeholder},on:{"on-submit":n.searchKey,"on-cancel":n.searchKey},model:{value:n.key,callback:function(e){n.key=e},expression:"key"}})],1)])]),n._v(" "),t("sub-list",{ref:"list",staticClass:"major-list__search",attrs:{list:n.list,loading:n.loading,end:n.end},on:{getCourses:n.getCourses,nextPage:n.nextPage,reList:n.reList}})],1)},v=[],b={render:x,staticRenderFns:v},j=b,E=t("VU/8"),_=o,k=E(B,j,!1,_,null,null);e.default=k.exports},"5rZU":function(n,e,t){var i=t("jP7b");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("6f047675",i,!0,{})},"61XI":function(n,e,t){e=n.exports=t("FZ+f")(!0),e.push([n.i,"\n.major-wrapper[data-v-d9ed30e4] {\n  position: relative;\n  background: #fff;\n}\n.major-list[data-v-d9ed30e4] {\n  -webkit-box-flex: 1;\n  -webkit-flex: auto;\n          flex: auto;\n  padding-left: 20px;\n  margin: 20px 0;\n  position: relative;\n}\n.major-item[data-v-d9ed30e4] {\n  background: #fff;\n  padding: 10px 30px 10px 0;\n  position: relative;\n}\n.major-item + .major-item[data-v-d9ed30e4] {\n    border-top: 1px solid #f5f5f5;\n}\n.major-item__logo[data-v-d9ed30e4] {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  top: 50%;\n  left: 20px;\n  margin-top: -20px;\n}\n.major-item__logo img[data-v-d9ed30e4] {\n    width: 100%;\n    height: 100%;\n}\n.major-item__info[data-v-d9ed30e4] {\n  padding-left: 80px;\n  position: relative;\n}\n.major-item__devide[data-v-d9ed30e4] {\n  position: absolute;\n  left: 75px;\n  content: '';\n  width: 1px;\n  height: calc(100% - 40px);\n  background: #4859ad12;\n  display: block;\n}\n.major-item__name[data-v-d9ed30e4] {\n  display: inline-block;\n  margin-right: 10px;\n  font-size: 14px;\n  color: #1e509e;\n}\n.major-item__code[data-v-d9ed30e4] {\n  display: inline-block;\n  margin-right: 10px;\n  font-size: 12px;\n  color: #737a9e;\n}\n.iconleft-arrow[data-v-d9ed30e4] {\n  font-size: 12px;\n  position: absolute;\n  right: 10px;\n  top: 12px;\n  font-size: 12px;\n  color: #b5b5b5;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n","",{version:3,sources:["D:/DATA/Vue/0625/CEE-VUE/src/major/subList.vue"],names:[],mappings:";AACA;EACE,mBAAmB;EACnB,iBAAiB;CAClB;AACD;EACE,oBAAoB;EACpB,mBAAmB;UACX,WAAW;EACnB,mBAAmB;EACnB,eAAe;EACf,mBAAmB;CACpB;AACD;EACE,iBAAiB;EACjB,0BAA0B;EAC1B,mBAAmB;CACpB;AACD;IACI,8BAA8B;CACjC;AACD;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,SAAS;EACT,WAAW;EACX,kBAAkB;CACnB;AACD;IACI,YAAY;IACZ,aAAa;CAChB;AACD;EACE,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,WAAW;EACX,0BAA0B;EAC1B,sBAAsB;EACtB,eAAe;CAChB;AACD;EACE,sBAAsB;EACtB,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;CAChB;AACD;EACE,sBAAsB;EACtB,mBAAmB;EACnB,gBAAgB;EAChB,eAAe;CAChB;AACD;EACE,gBAAgB;EAChB,mBAAmB;EACnB,YAAY;EACZ,UAAU;EACV,gBAAgB;EAChB,eAAe;EACf,kCAAkC;UAC1B,0BAA0B;CACnC",file:"subList.vue",sourcesContent:["\n.major-wrapper[data-v-d9ed30e4] {\n  position: relative;\n  background: #fff;\n}\n.major-list[data-v-d9ed30e4] {\n  -webkit-box-flex: 1;\n  -webkit-flex: auto;\n          flex: auto;\n  padding-left: 20px;\n  margin: 20px 0;\n  position: relative;\n}\n.major-item[data-v-d9ed30e4] {\n  background: #fff;\n  padding: 10px 30px 10px 0;\n  position: relative;\n}\n.major-item + .major-item[data-v-d9ed30e4] {\n    border-top: 1px solid #f5f5f5;\n}\n.major-item__logo[data-v-d9ed30e4] {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  top: 50%;\n  left: 20px;\n  margin-top: -20px;\n}\n.major-item__logo img[data-v-d9ed30e4] {\n    width: 100%;\n    height: 100%;\n}\n.major-item__info[data-v-d9ed30e4] {\n  padding-left: 80px;\n  position: relative;\n}\n.major-item__devide[data-v-d9ed30e4] {\n  position: absolute;\n  left: 75px;\n  content: '';\n  width: 1px;\n  height: calc(100% - 40px);\n  background: #4859ad12;\n  display: block;\n}\n.major-item__name[data-v-d9ed30e4] {\n  display: inline-block;\n  margin-right: 10px;\n  font-size: 14px;\n  color: #1e509e;\n}\n.major-item__code[data-v-d9ed30e4] {\n  display: inline-block;\n  margin-right: 10px;\n  font-size: 12px;\n  color: #737a9e;\n}\n.iconleft-arrow[data-v-d9ed30e4] {\n  font-size: 12px;\n  position: absolute;\n  right: 10px;\n  top: 12px;\n  font-size: 12px;\n  color: #b5b5b5;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n"],sourceRoot:""}])},WV7z:function(n,e,t){var i=t("61XI");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("rjj0")("c6b7734e",i,!0,{})},jP7b:function(n,e,t){e=n.exports=t("FZ+f")(!0),e.push([n.i,"\n.major-wrapper {\n  overflow: hidden;\n}\n.major-box {\n  background: #647cfb;\n  background: -webkit-linear-gradient(left, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  background: linear-gradient(to right, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  -webkit-box-flex: 0;\n  -webkit-flex: none;\n          flex: none;\n  z-index: 1;\n}\n.major-list__search .major-list {\n  margin: 0 !important;\n}\n","",{version:3,sources:["D:/DATA/Vue/0625/CEE-VUE/src/major/search.vue"],names:[],mappings:";AACA;EACE,iBAAiB;CAClB;AACD;EACE,oBAAoB;EACpB,8FAA8F;EAC9F,0FAA0F;EAC1F,oBAAoB;EACpB,mBAAmB;UACX,WAAW;EACnB,WAAW;CACZ;AACD;EACE,qBAAqB;CACtB",file:"search.vue",sourcesContent:["\n.major-wrapper {\n  overflow: hidden;\n}\n.major-box {\n  background: #647cfb;\n  background: -webkit-linear-gradient(left, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  background: linear-gradient(to right, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  -webkit-box-flex: 0;\n  -webkit-flex: none;\n          flex: none;\n  z-index: 1;\n}\n.major-list__search .major-list {\n  margin: 0 !important;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=17.275d84779f45c4ab2a18.js.map