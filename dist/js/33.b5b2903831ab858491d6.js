webpackJsonp([33],{"67cy":function(o,n,i){var a=i("ToAN");"string"==typeof a&&(a=[[o.i,a,""]]),a.locals&&(o.exports=a.locals);i("rjj0")("8424959e",a,!0,{})},ToAN:function(o,n,i){n=o.exports=i("FZ+f")(!0),n.push([o.i,"\n.major-info-wrapper {\n  background: #647cfb;\n  background: -webkit-linear-gradient(left, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  background: linear-gradient(to right, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n}\n.major-info-return {\n  height: 56px;\n  -webkit-box-flex: 0;\n  -webkit-flex: none;\n          flex: none;\n}\n.major-info-title {\n  color: #fff;\n  text-align: center;\n  font-size: 16px;\n  padding: 16px 10px 16px 50px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.major-info-box {\n  position: relative;\n  background: #fbf9fe;\n  padding: 10px 0;\n  height: calc(100% - 76px);\n  overflow: hidden;\n}\n.major-info-card {\n  background: #fff;\n  padding: 10px;\n  margin: 0 20px 16px;\n  box-shadow: 0 6px 6px rgba(75, 92, 178, 0.1);\n  border-radius: 4px;\n  position: relative;\n  min-height: 20px;\n  overflow: hidden;\n}\n.major-info-card.major-info-card-close {\n    height: 60px;\n}\n.major-info-card.major-info-card-close .major-card-content {\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n}\n.major-info-card.major-info-card-close .iconfont {\n      -webkit-transform: rotate(-90deg);\n              transform: rotate(-90deg);\n}\n.major-info-card.major-info-card-close .iconkecheng,\n    .major-info-card.major-info-card-close .iconjianjie {\n      display: none;\n}\n.iconzhuanye,\n.iconkecheng,\n.iconjianjie {\n  color: #99a9f926;\n  font-size: 100px;\n  position: absolute;\n  right: 0;\n  bottom: -60px;\n}\n.major-info-item + .major-info-item {\n  margin-top: 6px;\n}\n.major-card-header {\n  position: relative;\n  font-weight: bold;\n  padding: 4px 0 6px 0;\n  border-bottom: 1px solid #495bb021;\n}\n.major-card-header .iconfont {\n    position: absolute;\n    right: 10px;\n    top: 8px;\n    -webkit-transition: all .2s;\n    transition: all .2s;\n    -webkit-transform: rotate(90deg);\n            transform: rotate(90deg);\n    font-size: 12px;\n}\n.major-card-content {\n  padding: 10px 0;\n  -webkit-transition: all .2s;\n  transition: all .2s;\n}\n.major-school-item {\n  position: relative;\n}\n.major-school-item + .major-school-item {\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #495bb008;\n}\n.major-school-item__log {\n  width: 30px;\n  height: 30px;\n  border-radius: 100px;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  margin-top: -15px;\n}\n.major-school-item__log img {\n    width: 100%;\n    height: 100%;\n}\n.major-school-item__info {\n  padding-left: 40px;\n}\n.major-school-item__tag {\n  display: inline-block;\n  background: #5f95dc;\n  color: #fff;\n  margin: 8px 4px 8px 0;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 13px;\n}\n","",{version:3,sources:["D:/DATA/Vue/0625/CEE-VUE/src/major/majorInfo.vue"],names:[],mappings:";AACA;EACE,oBAAoB;EACpB,8FAA8F;EAC9F,0FAA0F;EAC1F,oBAAoB;EACpB,gBAAgB;UACR,QAAQ;EAChB,WAAW;EACX,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,6BAA6B;EAC7B,8BAA8B;EAC9B,+BAA+B;UACvB,uBAAuB;CAChC;AACD;EACE,aAAa;EACb,oBAAoB;EACpB,mBAAmB;UACX,WAAW;CACpB;AACD;EACE,YAAY;EACZ,mBAAmB;EACnB,gBAAgB;EAChB,6BAA6B;EAC7B,iBAAiB;EACjB,oBAAoB;EACpB,wBAAwB;CACzB;AACD;EACE,mBAAmB;EACnB,oBAAoB;EACpB,gBAAgB;EAChB,0BAA0B;EAC1B,iBAAiB;CAClB;AACD;EACE,iBAAiB;EACjB,cAAc;EACd,oBAAoB;EACpB,6CAA6C;EAC7C,mBAAmB;EACnB,mBAAmB;EACnB,iBAAiB;EACjB,iBAAiB;CAClB;AACD;IACI,aAAa;CAChB;AACD;MACM,oBAAoB;MACpB,wBAAwB;MACxB,iBAAiB;CACtB;AACD;MACM,kCAAkC;cAC1B,0BAA0B;CACvC;AACD;;MAEM,cAAc;CACnB;AACD;;;EAGE,iBAAiB;EACjB,iBAAiB;EACjB,mBAAmB;EACnB,SAAS;EACT,cAAc;CACf;AACD;EACE,gBAAgB;CACjB;AACD;EACE,mBAAmB;EACnB,kBAAkB;EAClB,qBAAqB;EACrB,mCAAmC;CACpC;AACD;IACI,mBAAmB;IACnB,YAAY;IACZ,SAAS;IACT,4BAA4B;IAC5B,oBAAoB;IACpB,iCAAiC;YACzB,yBAAyB;IACjC,gBAAgB;CACnB;AACD;EACE,gBAAgB;EAChB,4BAA4B;EAC5B,oBAAoB;CACrB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,iBAAiB;EACjB,kBAAkB;EAClB,gCAAgC;CACjC;AACD;EACE,YAAY;EACZ,aAAa;EACb,qBAAqB;EACrB,mBAAmB;EACnB,SAAS;EACT,QAAQ;EACR,kBAAkB;CACnB;AACD;IACI,YAAY;IACZ,aAAa;CAChB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,sBAAsB;EACtB,oBAAoB;EACpB,YAAY;EACZ,sBAAsB;EACtB,iBAAiB;EACjB,mBAAmB;EACnB,gBAAgB;CACjB",file:"majorInfo.vue",sourcesContent:["\n.major-info-wrapper {\n  background: #647cfb;\n  background: -webkit-linear-gradient(left, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  background: linear-gradient(to right, #4a8ef9 0%, #5292f7 15%, #347ff4 70%, #0c5ddc 100%);\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  z-index: 1;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n}\n.major-info-return {\n  height: 56px;\n  -webkit-box-flex: 0;\n  -webkit-flex: none;\n          flex: none;\n}\n.major-info-title {\n  color: #fff;\n  text-align: center;\n  font-size: 16px;\n  padding: 16px 10px 16px 50px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n.major-info-box {\n  position: relative;\n  background: #fbf9fe;\n  padding: 10px 0;\n  height: calc(100% - 76px);\n  overflow: hidden;\n}\n.major-info-card {\n  background: #fff;\n  padding: 10px;\n  margin: 0 20px 16px;\n  box-shadow: 0 6px 6px rgba(75, 92, 178, 0.1);\n  border-radius: 4px;\n  position: relative;\n  min-height: 20px;\n  overflow: hidden;\n}\n.major-info-card.major-info-card-close {\n    height: 60px;\n}\n.major-info-card.major-info-card-close .major-card-content {\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n}\n.major-info-card.major-info-card-close .iconfont {\n      -webkit-transform: rotate(-90deg);\n              transform: rotate(-90deg);\n}\n.major-info-card.major-info-card-close .iconkecheng,\n    .major-info-card.major-info-card-close .iconjianjie {\n      display: none;\n}\n.iconzhuanye,\n.iconkecheng,\n.iconjianjie {\n  color: #99a9f926;\n  font-size: 100px;\n  position: absolute;\n  right: 0;\n  bottom: -60px;\n}\n.major-info-item + .major-info-item {\n  margin-top: 6px;\n}\n.major-card-header {\n  position: relative;\n  font-weight: bold;\n  padding: 4px 0 6px 0;\n  border-bottom: 1px solid #495bb021;\n}\n.major-card-header .iconfont {\n    position: absolute;\n    right: 10px;\n    top: 8px;\n    -webkit-transition: all .2s;\n    transition: all .2s;\n    -webkit-transform: rotate(90deg);\n            transform: rotate(90deg);\n    font-size: 12px;\n}\n.major-card-content {\n  padding: 10px 0;\n  -webkit-transition: all .2s;\n  transition: all .2s;\n}\n.major-school-item {\n  position: relative;\n}\n.major-school-item + .major-school-item {\n  margin-top: 10px;\n  padding-top: 10px;\n  border-top: 1px solid #495bb008;\n}\n.major-school-item__log {\n  width: 30px;\n  height: 30px;\n  border-radius: 100px;\n  position: absolute;\n  top: 50%;\n  left: 0;\n  margin-top: -15px;\n}\n.major-school-item__log img {\n    width: 100%;\n    height: 100%;\n}\n.major-school-item__info {\n  padding-left: 40px;\n}\n.major-school-item__tag {\n  display: inline-block;\n  background: #5f95dc;\n  color: #fff;\n  margin: 8px 4px 8px 0;\n  padding: 2px 8px;\n  border-radius: 4px;\n  font-size: 13px;\n}\n"],sourceRoot:""}])},hhN4:function(o,n,i){"use strict";function a(o){i("67cy")}Object.defineProperty(n,"__esModule",{value:!0});var t=i("gyMJ"),e=i("X2Oc"),r=i("GQaK"),s=i("rdLu"),c=i.n(s),l=(c.a.debounce(function(o){var n=this;console.log("展开了没"),this[o]=!this[o],this.$nextTick(function(){n.majorScroll&&n.majorScroll.refresh()})},50,!0),c.a.debounce(function(){this.isEnd||this.loading||(this.req.page++,this.getSchool())},50,!0),c.a.debounce(function(){},50,!0),{data:function(){return{loading:!1,majorError:!1,majorObj:{schoolDtos:[]},majorName:"",majorScroll:null,courseOpen:!1,summaryOpen:!1,schoolOpen:!1,req:{majorcode:"",page:0,openid:""},isEnd:!1}},computed:{openid:function(){return this.$store.state.user.openid},majorCode:function(){return this.$route.params.id||""}},mounted:function(){this.getMajorDetail(),this.req.majorcode=this.majorCode,this.req.page=0,this.req.openid=this.openid},methods:{gotoDetailPage:function(o){var n=this;console.log("学校详情：",o),Object(t.O)(o.schoolname,this.openid).then(function(i){n.code=o.schoolcode,n.loading=!1,505===i.data.code?n.show=!0:0===i.data.code&&n.$router.push({path:"/schoolInfo/"+n.openid+"/"+o.schoolname})})},toggleOpen:c.a.debounce(function(o){var n=this;console.log("展开了没"),this[o]=!this[o],this.$nextTick(function(){n.majorScroll&&n.majorScroll.refresh()})},50,!0),init:function(){var o=this;this.$nextTick(function(){var n=o.scrollTop||0;console.log(o.$refs.majorInfo),o.majorScroll=new r.a(o.$refs.majorInfo,{startY:n,click:!0,pullDownRefresh:{threshold:50,stop:40},pullUpLoad:{threshold:0,moreTxt:"加载中",noMoreTxt:"没有更多数据了"}}),o.majorScroll.on("pullingUp",function(n){o.nextPage(),o.$nextTick(function(){o.majorScroll.finishPullUp()})}),o.majorScroll.on("pullingDown",function(){o.$nextTick(function(){o.majorScroll.finishPullDown()})})})},nextPage:c.a.debounce(function(){this.isEnd||this.loading||(this.req.page++,this.getSchool())},50,!0),reList:c.a.debounce(function(){},50,!0),gotoPage:function(){this.$router.go(-1)},getMajorDetail:function(){var o=this;if(void 0===this.majorCode||""===this.majorCode)return Object(e.a)(this,"专业代码错误"),void(this.majorError=!0);this.loading=!0,Object(t.T)({openid:this.openid,majorcode:this.majorCode}).then(function(n){o.loading=!1,0===n.data.code?(o.majorError=!1,o.majorName=n.data.data.majorname,o.majorObj=n.data.data,void 0!==o.majorObj.summary&&""!==o.majorObj.summary&&(o.majorObj.summary=o.majorObj.summary.replace(/<p>/g,"").replace(/<\/p>/g,"")),console.log("专业开设院校：",o.majorObj.schoolDtos),n.data.data.schoolDtos<10&&(o.isEnd=!0),o.init()):o.majorError=!0})},getSchool:function(){var o=this;Object(t.k)(this.req).then(function(n){n.data.data.length<10&&(o.isEnd=!0);var i=o.majorObj.schoolDtos.map(function(o){return o.schoolcode});n.data.data.map(function(n){-1===i.indexOf(n.schoolcode)&&o.majorObj.schoolDtos.push(n)}),console.log("专业开设院校：",o.majorObj.schoolDtos),o.$nextTick(function(){o.majorScroll&&o.majorScroll.refresh()})})}}}),A=function(){var o=this,n=o.$createElement,i=o._self._c||n;return i("div",{staticStyle:{height:"100%",width:"100%",display:"flex","flex-direction":"column"}},[i("div",{staticClass:"major-info-wrapper"},[i("div",{staticClass:"major-info-return return-box"},[i("div",{staticClass:"return__icon",on:{click:o.gotoPage}},[i("i",{staticClass:"iconfont iconleft-arrow"})]),o._v(" "),i("div",{staticClass:"major-info-title"},[o._v(o._s(o.majorName))])])]),o._v(" "),i("div",{ref:"majorInfo",staticClass:"major-info-box"},[o.loading?i("div",{staticClass:"list-loading"},[i("div",{staticClass:"loader"})]):o._e(),o._v(" "),!o.loading&&o.majorError?i("div",{staticClass:"list-no-data"},[o._v("\n          专业代码错误，请返回\n        ")]):o._e(),o._v(" "),o.loading||o.majorError?o._e():i("div",{staticStyle:{padding:"10px 0",position:"relative"}},[i("div",{staticClass:"major-info-card"},[i("div",{staticClass:"major-info-item major__code"},[o._v("专业代码: "+o._s(o.majorCode||"暂无信息"))]),o._v(" "),i("div",{staticClass:"major-info-item major__degree"},[o._v("授予学位: "+o._s(o.majorObj.degree||"暂无信息"))]),o._v(" "),i("div",{staticClass:"major-info-item major__educationalsystem"},[o._v("学制: "+o._s(o.majorObj.educationalsystem||"暂无信息"))])]),o._v(" "),i("div",{staticClass:"major-info-card",class:[o.courseOpen?"major-info-card-open":"major-info-card-close"]},[i("div",{staticClass:"major-info-item major__course"},[i("div",{staticClass:"major-card-header",on:{click:function(n){o.toggleOpen("courseOpen")}}},[o._v("\n                专业课程\n                "),i("i",{staticClass:"iconfont iconleft-arrow"})]),o._v(" "),i("div",{staticClass:"major-card-content"},[o._v(o._s(o.majorObj.major||"暂无信息"))])])]),o._v(" "),i("div",{staticClass:"major-info-card",class:[o.summaryOpen?"major-info-card-open":"major-info-card-close"]},[i("div",{staticClass:"major-info-item major__summary"},[i("div",{staticClass:"major-card-header",on:{click:function(n){o.toggleOpen("summaryOpen")}}},[o._v("\n                专业简介 "),i("i",{staticClass:"iconfont iconleft-arrow"})]),o._v(" "),i("div",{staticClass:"major-card-content"},[o._v(o._s(o.majorObj.summary||"暂无信息"))])])]),o._v(" "),o.majorObj.schoolDtos.length>0?i("div",{staticClass:"major-info-card"},[i("div",{staticClass:"major-info-item major__school"},[i("div",{staticClass:"major-card-header"},[o._v("开设院校")]),o._v(" "),i("div",{staticClass:"major-card-content"},[o._l(o.majorObj.schoolDtos,function(n){return i("div",{staticClass:"major-school-item",on:{click:function(i){o.gotoDetailPage(n)}}},[i("div",{staticClass:"major-school-item__log"},[i("img",{attrs:{src:n.log}})]),o._v(" "),i("div",{staticClass:"major-school-item__info"},[i("div",{staticClass:"major-school-item__name"},[o._v(o._s(n.schoolname))]),o._v(" "),i("div",{staticClass:"major-school-item__tag"},[o._v(o._s(n.grade))]),o._v(" "),i("div",{staticClass:"major-school-item__tag"},[o._v("所在地: "+o._s(n.address))]),o._v(" "),i("div",{staticClass:"major-school-item__tag"},[o._v(o._s(n.type))])])])}),o._v(" "),!o.loading&&0!==o.majorObj.schoolDtos.length&&o.isEnd?i("div",{staticClass:"school-item-end"},[o._v("到底了")]):o._e()],2)])]):o._e()])])])},d=[],m={render:A,staticRenderFns:d},f=m,p=i("VU/8"),C=a,j=p(l,f,!1,C,null,null);n.default=j.exports}});
//# sourceMappingURL=33.b5b2903831ab858491d6.js.map